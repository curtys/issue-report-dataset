{
    "comments": [
        {
            "author": null,
            "body": "Created attachment 12034\nNew setclasspath.bat",
            "date": "20040706T04:03:10",
            "id": 0
        },
        {
            "author": null,
            "body": "Created attachment 12035\nNew catalina.bat",
            "date": "20040706T04:03:41",
            "id": 1
        },
        {
            "author": null,
            "body": "This problem is due to the call to exit in setclasspath.bat.  The syntax should probably be \"exit /b \nerrorlevel\".  There's also a typo in catalina.bat, CURRENT_DIR vs. %CURRENT_DIR%.  I've attached \nproposed fixes for the two files.",
            "date": "20040706T04:06:22",
            "id": 2
        },
        {
            "author": null,
            "body": "Thank you for reporting this bug and posting patches.  I've applied the \nsetclasspath exit code patch.  The catalina.bat %current_dir% one was already \napplied in 5.0.26 or 5.0.27, so no action needed there.\n\nIn the future, if possible post diff patches rather than the full file.",
            "date": "20040726T15:37:02",
            "id": 3
        }
    ],
    "component": "Catalina",
    "description": "when running the tomcat installation from an NSIS script , the installation \nalways returns an error code to the main script .\nexample :\n----------------------------------------------------------------------------\nNoJInstall:\nIfErrors 0 NoAbort\n    MessageBox MB_OK \"Couldn't find a Tomcat Jakarta Web server installed. \nSetup will now install a FOO required Jakarta .\"\n    DetailPrint \"Couldn't find a Tomcat Jakarta Web server installed. Setup \nwill now install a Foo required Jakarta .\"\n    execwait \"C:\\jakarta-tomcat-5.0.25.exe\"\n    IfErrors 0 Problem\n\n Problem:\n      Sleep 300\n      Abort\n------------------------------------------------------------------------\nwhen finishing the jakarta installer , there are two check boxes , at first i \nthought that unmarking them caused the error , but in a second try i left them \nmarked and the same error happened.\n\ni think the error is generated by the \"close\" button in the end of the install.",
    "hasPatch": false,
    "hasScreenshot": false,
    "id": "29826",
    "issuetypeClassified": "BUG",
    "issuetypeTracker": "BUG",
    "priority": "P3 normal",
    "product": "Tomcat 5",
    "project": "TOMCAT",
    "summary": "Installation always exits with an error code.",
    "systemSpecification": true,
    "version": "5.0.25"
}