{
    "comments": [],
    "component": "Connector:AJP",
    "description": "When using AJP and APR, a NPE occurs in \nServletRequest#getAttribute(\"javax.servlet.request.cipher_suite\");\nWhen accessing the bundeled example-servlet\n/servlets-examples/servlet/RequestInfoExample\nthis can be observed.\n\nThe statcktrace:\n\njava.lang.NullPointerException\n        at java.io.ByteArrayInputStream.<init>(ByteArrayInputStream.java:109)\n        at org.apache.coyote.ajp.AjpAprProcessor.action(AjpAprProcessor.java:651)\n        at org.apache.coyote.Request.action(Request.java:365)\n        at org.apache.catalina.connector.Request.getAttribute(Request.java:847)\n        at\norg.apache.catalina.connector.RequestFacade.getAttribute(RequestFacade.java:260)\n        at RequestInfoExample.doGet(RequestInfoExample.java:89)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:689)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n        at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)\n        at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)\n        at filters.ExampleFilter.doFilter(ExampleFilter.java:101)\n        at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)\n        at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)\n        at\norg.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)\n        at\norg.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:178)\n        at\norg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:432)\n        at\norg.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126)\n        at\norg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)\n        at\norg.apache.catalina.valves.FastCommonAccessLogValve.invoke(FastCommonAccessLogValve.java:495)\n        at\norg.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:107)\n        at\norg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148)\n        at org.apache.coyote.ajp.AjpAprProcessor.process(AjpAprProcessor.java:513)\n        at\norg.apache.coyote.ajp.AjpAprProtocol$AjpConnectionHandler.process(AjpAprProtocol.java:588)\n        at org.apache.tomcat.util.net.AprEndpoint$Worker.run(AprEndpoint.java:1182)\n        at java.lang.Thread.run(Thread.java:595)\n\nI've verified this on a stock Tomcat 5.5.10 binary distribution connected to an\nApache httpd 2.0.54 using JK-1.2.14.\n\nIf APR is not used, no Exception is thrown.",
    "hasPatch": false,
    "hasScreenshot": false,
    "id": "35942",
    "issuetypeClassified": "OTHER",
    "issuetypeTracker": "BUG",
    "priority": "P2 normal",
    "product": "Tomcat 5",
    "project": "TOMCAT",
    "summary": "NPE when calling ServletRequest#getAttribute(\"javax.servlet.request.cipher_suite\")",
    "systemSpecification": true,
    "version": "5.5.10"
}