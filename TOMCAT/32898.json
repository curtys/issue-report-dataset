{
    "comments": [
        {
            "author": null,
            "body": "During a state transfer, I am now setting the context class loader correctly, so\nthat static methods like struts can load their classes properly.",
            "date": "20050209T15:58:03",
            "id": 0
        },
        {
            "author": null,
            "body": "I am also having this problem, can you clarify the fix?  Is this a code change,\nif so is a patch avail or can you direct me to the classes you modified?  I\ntried 5.0.30 and had the same problem.\n\n",
            "date": "20050216T08:31:45",
            "id": 1
        },
        {
            "author": null,
            "body": "Created attachment 14364\n5.0.28 cluster jar with fix\n\nLibrary with updated file for 5.0.28 attached",
            "date": "20050225T22:40:25",
            "id": 2
        },
        {
            "author": null,
            "body": "Created attachment 14365\nSource code fix\n\nModified source code attached",
            "date": "20050225T22:41:34",
            "id": 3
        }
    ],
    "component": "Catalina:Cluster",
    "description": "I have two machines in a cluster configuration. An initial start of each works\nproperly, with sessions being shared, etc. Stopping one Tomcat instance works\nand I can continue as the other Tomcat instance also has my session.\n\nHowever, when I restart the stopped Tomcat instance, it refuses to load the\ncontext (in my case, an app named \"Config\").  \n\nIt seems to be complaining about a ClassNotFound exception for\nutil.MessageResourcesFactory  - MessageResourcesFactory.createFactory, however,\nthis class is found on the initial startup (before shutdown) and I am able have\nsession replicate initially also.\n\nStack trace (restart) below:\n\n0 [main] INFO http11.Http11Protocol  - Initializing Coyote HTTP/1.1 on http-8080\n45 [main] INFO startup.Catalina  - Initialization processed in 1350 ms\n229 [main] INFO core.StandardService  - Starting service Catalina\n234 [main] INFO core.StandardEngine  - Starting Servlet Engine: Apache Tomcat/5.0.30\n252 [main] INFO core.StandardHost  - XML validation disabled\n253 [main] INFO tcp.SimpleTcpCluster  - Cluster is about to start\n285 [main] INFO mcast.McastService  - Sleeping for 2000 secs to establish\ncluster membership\n668 [Cluster-MembershipReceiver] INFO tcp.SimpleTcpCluster  - Replication member\nadded:org.apache.catalina.cluster.mcast.McastMember[tcp://10.20.1.30:4001,10.20.1.30,4001,\nalive=100380]\n2289 [main] INFO core.StandardHost  - Create Host deployer for direct deployment\n( non-jmx )\n2298 [main] INFO deploy.FarmWarDeployer  - Cluster FarmWarDeployer started.\n2320 [main] INFO core.StandardHostDeployer  - Processing Context configuration\nfile URL file:/home/jakarta-tomcat-5.0.30/conf/Catalina/localhost/admin.xml\n4572 [main] INFO core.StandardHostDeployer  - Processing Context configuration\nfile URL file:/home/jakarta-tomcat-5.0.30/conf/Catalina/localhost/balancer.xml\n4756 [main] INFO core.StandardHostDeployer  - Processing Context configuration\nfile URL file:/home/jakarta-tomcat-5.0.30/conf/Catalina/localhost/config.xml\n\n\n\n\nCreating ClusterManager for context /config using class\norg.apache.catalina.cluster.session.DeltaManager\n\n\n\n\n4925 [main] INFO session.DeltaManager  - Starting clustering manager...:/config\n5282 [org.apache.catalina.cluster.tcp.TcpReplicationThread[1]] ERROR\nutil.MessageResourcesFactory  - MessageResourcesFactory.createFactory\njava.lang.ClassNotFoundException:\norg.apache.struts.util.PropertyMessageResourcesFactory\n\tat\norg.apache.catalina.loader.StandardClassLoader.loadClass(StandardClassLoader.java:854)\n\tat\norg.apache.catalina.loader.StandardClassLoader.loadClass(StandardClassLoader.java:721)\n\tat org.apache.struts.util.RequestUtils.applicationClass(RequestUtils.java:119)\n\tat\norg.apache.struts.util.MessageResourcesFactory.createFactory(MessageResourcesFactory.java:150)\n\tat\norg.apache.struts.util.MessageResources.getMessageResources(MessageResources.java:495)\n\tat net.messagecast.common.ConfigConstants.<clinit>(Unknown Source)\n\tat config.general.CommonForm.<clinit>(Unknown Source)\n\tat java.io.ObjectStreamClass.hasStaticInitializer(Native Method)\n\tat java.io.ObjectStreamClass.computeDefaultSUID(ObjectStreamClass.java:1557)\n\tat java.io.ObjectStreamClass.access$100(ObjectStreamClass.java:47)\n\tat java.io.ObjectStreamClass$1.run(ObjectStreamClass.java:173)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat java.io.ObjectStreamClass.getSerialVersionUID(ObjectStreamClass.java:170)\n\tat java.io.ObjectStreamClass.initNonProxy(ObjectStreamClass.java:459)\n\tat java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1521)\n\tat java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1435)\n\tat java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1521)\n\tat java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1435)\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1626)\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1274)\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:324)\n\tat java.util.ArrayList.readObject(ArrayList.java:547)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:838)\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1746)\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1646)\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1274)\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:324)\n\tat\norg.apache.catalina.cluster.session.DeltaSession.readObject(DeltaSession.java:1413)\n\tat\norg.apache.catalina.cluster.session.DeltaSession.readObjectData(DeltaSession.java:913)\n\tat org.apache.catalina.cluster.session.DeltaManager.doLoad(DeltaManager.java:448)\n\tat\norg.apache.catalina.cluster.session.DeltaManager.messageReceived(DeltaManager.java:868)\n\tat\norg.apache.catalina.cluster.session.DeltaManager.messageDataReceived(DeltaManager.java:765)\n\tat\norg.apache.catalina.cluster.tcp.SimpleTcpCluster.messageDataReceived(SimpleTcpCluster.java:580)\n\tat org.apache.catalina.cluster.io.ObjectReader.execute(ObjectReader.java:70)\n\tat\norg.apache.catalina.cluster.tcp.TcpReplicationThread.drainChannel(TcpReplicationThread.java:129)\n\tat\norg.apache.catalina.cluster.tcp.TcpReplicationThread.run(TcpReplicationThread.java:67)\njava.lang.ExceptionInInitializerError\n\tat config.general.CommonForm.<clinit>(Unknown Source)\n\tat java.io.ObjectStreamClass.hasStaticInitializer(Native Method)\n\tat java.io.ObjectStreamClass.computeDefaultSUID(ObjectStreamClass.java:1557)\n\tat java.io.ObjectStreamClass.access$100(ObjectStreamClass.java:47)\n\tat java.io.ObjectStreamClass$1.run(ObjectStreamClass.java:173)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat java.io.ObjectStreamClass.getSerialVersionUID(ObjectStreamClass.java:170)\n\tat java.io.ObjectStreamClass.initNonProxy(ObjectStreamClass.java:459)\n\tat java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1521)\n\tat java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1435)\n\tat java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1521)\n\tat java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1435)\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1626)\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1274)\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:324)\n\tat java.util.ArrayList.readObject(ArrayList.java:547)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:838)\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1746)\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1646)\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1274)\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:324)\n\tat\norg.apache.catalina.cluster.session.DeltaSession.readObject(DeltaSession.java:1413)\n\tat\norg.apache.catalina.cluster.session.DeltaSession.readObjectData(DeltaSession.java:913)\n\tat org.apache.catalina.cluster.session.DeltaManager.doLoad(DeltaManager.java:448)\n\tat\norg.apache.catalina.cluster.session.DeltaManager.messageReceived(DeltaManager.java:868)\n\tat\norg.apache.catalina.cluster.session.DeltaManager.messageDataReceived(DeltaManager.java:765)\n\tat\norg.apache.catalina.cluster.tcp.SimpleTcpCluster.messageDataReceived(SimpleTcpCluster.java:580)\n\tat org.apache.catalina.cluster.io.ObjectReader.execute(ObjectReader.java:70)\n\tat\norg.apache.catalina.cluster.tcp.TcpReplicationThread.drainChannel(TcpReplicationThread.java:129)\n\tat\norg.apache.catalina.cluster.tcp.TcpReplicationThread.run(TcpReplicationThread.java:67)\nCaused by: java.lang.NullPointerException\n\tat\norg.apache.struts.util.MessageResources.getMessageResources(MessageResources.java:498)\n\tat net.messagecast.common.ConfigConstants.<clinit>(Unknown Source)\n\t... 34 more\n19957 [main] WARN tcp.SocketSender  - Wasn't able to read acknowledgement from\nserver[/10.20.1.30:4001] in 15000 ms. Disconnecting socket, and trying again.\njava.lang.NoClassDefFoundError\n\tat java.io.ObjectStreamClass.hasStaticInitializer(Native Method)\n\tat java.io.ObjectStreamClass.computeDefaultSUID(ObjectStreamClass.java:1557)\n\tat java.io.ObjectStreamClass.access$100(ObjectStreamClass.java:47)\n\tat java.io.ObjectStreamClass$1.run(ObjectStreamClass.java:173)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat java.io.ObjectStreamClass.getSerialVersionUID(ObjectStreamClass.java:170)\n\tat java.io.ObjectStreamClass.initNonProxy(ObjectStreamClass.java:459)\n\tat java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1521)\n\tat java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1435)\n\tat java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1521)\n\tat java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1435)\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1626)\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1274)\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:324)\n\tat java.util.ArrayList.readObject(ArrayList.java:547)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:838)\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1746)\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1646)\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1274)\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:324)\n\tat\norg.apache.catalina.cluster.session.DeltaSession.readObject(DeltaSession.java:1413)\n\tat\norg.apache.catalina.cluster.session.DeltaSession.readObjectData(DeltaSession.java:913)\n\tat org.apache.catalina.cluster.session.DeltaManager.doLoad(DeltaManager.java:448)\n\tat\norg.apache.catalina.cluster.session.DeltaManager.messageReceived(DeltaManager.java:868)\n\tat\norg.apache.catalina.cluster.session.DeltaManager.messageDataReceived(DeltaManager.java:765)\n\tat\norg.apache.catalina.cluster.tcp.SimpleTcpCluster.messageDataReceived(SimpleTcpCluster.java:580)\n\tat org.apache.catalina.cluster.io.ObjectReader.execute(ObjectReader.java:70)\n\tat\norg.apache.catalina.cluster.tcp.TcpReplicationThread.drainChannel(TcpReplicationThread.java:129)\n\tat\norg.apache.catalina.cluster.tcp.TcpReplicationThread.run(TcpReplicationThread.java:67)\njava.lang.NoClassDefFoundError\n\tat java.io.ObjectStreamClass.hasStaticInitializer(Native Method)\n\tat java.io.ObjectStreamClass.computeDefaultSUID(ObjectStreamClass.java:1557)\n\tat java.io.ObjectStreamClass.access$100(ObjectStreamClass.java:47)\n\tat java.io.ObjectStreamClass$1.run(ObjectStreamClass.java:173)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat java.io.ObjectStreamClass.getSerialVersionUID(ObjectStreamClass.java:170)\n\tat java.io.ObjectStreamClass.initNonProxy(ObjectStreamClass.java:459)\n\tat java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1521)\n\tat java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1435)\n\tat java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1521)\n\tat java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1435)\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1626)\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1274)\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:324)\n\tat java.util.ArrayList.readObject(ArrayList.java:547)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:838)\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1746)\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1646)\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1274)\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:324)\n\tat\norg.apache.catalina.cluster.session.DeltaSession.readObject(DeltaSession.java:1413)\n\tat\norg.apache.catalina.cluster.session.DeltaSession.readObjectData(DeltaSession.java:913)\n\tat org.apache.catalina.cluster.session.DeltaManager.doLoad(DeltaManager.java:448)\n\tat\norg.apache.catalina.cluster.session.DeltaManager.messageReceived(DeltaManager.java:868)\n\tat\norg.apache.catalina.cluster.session.DeltaManager.messageDataReceived(DeltaManager.java:765)\n\tat\norg.apache.catalina.cluster.tcp.SimpleTcpCluster.messageDataReceived(SimpleTcpCluster.java:580)\n\tat org.apache.catalina.cluster.io.ObjectReader.execute(ObjectReader.java:70)\n\tat\norg.apache.catalina.cluster.tcp.TcpReplicationThread.drainChannel(TcpReplicationThread.java:129)\n\tat\norg.apache.catalina.cluster.tcp.TcpReplicationThread.run(TcpReplicationThread.java:67)\n34967 [main] WARN tcp.SocketSender  - Wasn't able to read acknowledgement from\nserver[/10.20.1.30:4001] in 15000 ms. Disconnecting socket, and trying again.\n34967 [main] WARN tcp.ReplicationTransmitter  - Unable to send replicated\nmessage, is server down?\njava.net.SocketTimeoutException: Read timed out\n\tat java.net.SocketInputStream.socketRead0(Native Method)\n\tat java.net.SocketInputStream.read(SocketInputStream.java:129)\n\tat java.net.SocketInputStream.read(SocketInputStream.java:182)\n\tat org.apache.catalina.cluster.tcp.SocketSender.waitForAck(SocketSender.java:134)\n\tat org.apache.catalina.cluster.tcp.SocketSender.sendMessage(SocketSender.java:125)\n\tat\norg.apache.catalina.cluster.tcp.PooledSocketSender.sendMessage(PooledSocketSender.java:119)\n\tat\norg.apache.catalina.cluster.tcp.ReplicationTransmitter.sendMessageData(ReplicationTransmitter.java:117)\n\tat\norg.apache.catalina.cluster.tcp.ReplicationTransmitter.sendMessage(ReplicationTransmitter.java:136)\n\tat org.apache.catalina.cluster.tcp.SimpleTcpCluster.send(SimpleTcpCluster.java:461)\n\tat org.apache.catalina.cluster.session.DeltaManager.start(DeltaManager.java:649)\n\tat org.apache.catalina.core.ContainerBase.setManager(ContainerBase.java:499)\n\tat org.apache.catalina.startup.ContextConfig.managerConfig(ContextConfig.java:310)\n\tat org.apache.catalina.startup.ContextConfig.start(ContextConfig.java:638)\n\tat org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:216)\n\tat\norg.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\n\tat org.apache.catalina.core.StandardContext.start(StandardContext.java:4270)\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:823)\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:807)\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:595)\n\tat\norg.apache.catalina.core.StandardHostDeployer.addChild(StandardHostDeployer.java:903)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.apache.commons.beanutils.MethodUtils.invokeMethod(MethodUtils.java:252)\n\tat org.apache.commons.digester.SetNextRule.end(SetNextRule.java:256)\n\tat org.apache.commons.digester.Rule.end(Rule.java:276)\n\tat org.apache.commons.digester.Digester.endElement(Digester.java:1058)\n\tat org.apache.catalina.util.CatalinaDigester.endElement(CatalinaDigester.java:76)\n\tat org.apache.xerces.parsers.AbstractSAXParser.endElement(Unknown Source)\n\tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanEndElement(Unknown\nSource)\n\tat\norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown\nSource)\n\tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown\nSource)\n\tat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n\tat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n\tat org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\n\tat org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)\n\tat org.apache.commons.digester.Digester.parse(Digester.java:1567)\n\tat\norg.apache.catalina.core.StandardHostDeployer.install(StandardHostDeployer.java:488)\n\tat org.apache.catalina.core.StandardHost.install(StandardHost.java:863)\n\tat org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java:483)\n\tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:427)\n\tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:983)\n\tat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:349)\n\tat\norg.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\n\tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1091)\n\tat org.apache.catalina.core.StandardHost.start(StandardHost.java:789)\n\tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1083)\n\tat org.apache.catalina.core.StandardEngine.start(StandardEngine.java:478)\n\tat org.apache.catalina.core.StandardService.start(StandardService.java:480)\n\tat org.apache.catalina.core.StandardServer.start(StandardServer.java:2313)\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:556)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:287)\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:425)\n34969 [main] WARN session.DeltaManager  - Manager[/config], requesting session\nstate from\norg.apache.catalina.cluster.mcast.McastMember[tcp://10.20.1.30:4001,10.20.1.30,4001,\nalive=134550]. This operation will timeout if no session state has been received\nwithin 60 seconds\njava.lang.NoClassDefFoundError\n\tat java.io.ObjectStreamClass.hasStaticInitializer(Native Method)\n\tat java.io.ObjectStreamClass.computeDefaultSUID(ObjectStreamClass.java:1557)\n\tat java.io.ObjectStreamClass.access$100(ObjectStreamClass.java:47)\n\tat java.io.ObjectStreamClass$1.run(ObjectStreamClass.java:173)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat java.io.ObjectStreamClass.getSerialVersionUID(ObjectStreamClass.java:170)\n\tat java.io.ObjectStreamClass.initNonProxy(ObjectStreamClass.java:459)\n\tat java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1521)\n\tat java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1435)\n\tat java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1521)\n\tat java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1435)\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1626)\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1274)\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:324)\n\tat java.util.ArrayList.readObject(ArrayList.java:547)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:838)\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1746)\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1646)\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1274)\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:324)\n\tat\norg.apache.catalina.cluster.session.DeltaSession.readObject(DeltaSession.java:1413)\n\tat\norg.apache.catalina.cluster.session.DeltaSession.readObjectData(DeltaSession.java:913)\n\tat org.apache.catalina.cluster.session.DeltaManager.doLoad(DeltaManager.java:448)\n\tat\norg.apache.catalina.cluster.session.DeltaManager.messageReceived(DeltaManager.java:868)\n\tat\norg.apache.catalina.cluster.session.DeltaManager.messageDataReceived(DeltaManager.java:765)\n\tat\norg.apache.catalina.cluster.tcp.SimpleTcpCluster.messageDataReceived(SimpleTcpCluster.java:580)\n\tat org.apache.catalina.cluster.io.ObjectReader.execute(ObjectReader.java:70)\n\tat\norg.apache.catalina.cluster.tcp.TcpReplicationThread.drainChannel(TcpReplicationThread.java:129)\n\tat\norg.apache.catalina.cluster.tcp.TcpReplicationThread.run(TcpReplicationThread.java:67)",
    "hasPatch": false,
    "hasScreenshot": false,
    "id": "32898",
    "issuetypeClassified": "BUG",
    "issuetypeTracker": "BUG",
    "priority": "P2 normal",
    "product": "Tomcat 5",
    "project": "TOMCAT",
    "summary": "Cluster restart fails",
    "systemSpecification": true,
    "version": "5.0.30"
}