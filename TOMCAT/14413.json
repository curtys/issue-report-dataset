{
    "comments": [
        {
            "author": null,
            "body": "Fixed.\nA more meaningful exception (consistent with the exception thrown in the\nstandard syntax case) is now thrown (notice that it is illegal for\n<jsp:attribute> to specify a 'value' attribute).",
            "date": "20021111T19:27:02",
            "id": 0
        }
    ],
    "component": "Jasper",
    "description": "If a JSPDocument has a jsp:attribute that has both the attributes specified as\nXML style attributes ,a NPE is thrown while parsing. In case the value attribute\nis specified as a body then the JSP document is compiled and executed properly.\n\nHere is the JSP Document :\n<jsp:root xmlns:jsp=\"http://java.sun.com/JSP/Page\" xmlns:st=\"/SimpleTaglib\"  \nversion=\"2.0\" >\n <st:simplefmtbegin var=\"myDt\" pattern=\"MM/dd/yyyy\" >\n    \t<jsp:attribute name=\"input\" value=\"02/02/2001\"/>\n </st:simplefmtbegin>\n <jsp:text><![CDATA[ <br> This is the date <br> ]]> </jsp:text>\n \n <jsp:text><![CDATA[ <br> This is the date from EL <br> ]]> </jsp:text>\n \n <jsp:text>${myDt}</jsp:text>\n     \n</jsp:root>\n\n=====\nHere is the error \n=====\njava.lang.NullPointerException\n\tat\norg.apache.jasper.compiler.JspDocumentParser.endElement(JspDocumentParser.java:380)\n\tat\norg.apache.xerces.parsers.AbstractSAXParser.endElement(AbstractSAXParser.java:585)\n\tat\norg.apache.xerces.parsers.AbstractXMLDocumentParser.emptyElement(AbstractXMLDocumentParser.java:222)\n\tat\norg.apache.xerces.impl.XMLNamespaceBinder.emptyElement(XMLNamespaceBinder.java:595)\n\tat\norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanStartElement(XMLDocumentFragmentScannerImpl.java:747)\n\tat\norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(XMLDocumentFragmentScannerImpl.java:1477)\n\tat\norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:329)\n\tat org.apache.xerces.parsers.DTDConfiguration.parse(DTDConfiguration.java:525)\n\tat org.apache.xerces.parsers.DTDConfiguration.parse(DTDConfiguration.java:581)\n\tat org.apache.xerces.parsers.XMLParser.parse(XMLParser.java:152)\n\tat org.apache.xerces.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1175)\n\tat javax.xml.parsers.SAXParser.parse(SAXParser.java:394)\n\tat org.apache.jasper.compiler.JspDocumentParser.parse(JspDocumentParser.java:180)\n\tat org.apache.jasper.compiler.ParserController.parseFile(ParserController.java:207)\n\tat org.apache.jasper.compiler.ParserController.parse(ParserController.java:150)\n\tat org.apache.jasper.compiler.ParserController.parse(ParserController.java:139)\n\tat org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:263)\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:413)\n\tat org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:552)\n\tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:297)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:295)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:241)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:280)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:194)\n\tat\norg.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:276)\n\tat\norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:996)\n\tat\norg.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\n\tat\norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:996)\n\tat org.apache.catalina.core.StandardContext.invoke(StandardContext.java:2523)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:180)\n\tat\norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)\n\tat\norg.apache.catalina.valves.ErrorDispatcherValve.invoke(ErrorDispatcherValve.java:170)\n\tat\norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:641)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:172)\n\tat\norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:641)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:996)\n\tat\norg.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:174)\n\tat\norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:996)\n\tat org.apache.coyote.tomcat5.CoyoteAdapter.service(CoyoteAdapter.java:223)\n\tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:413)\n\tat\norg.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection(Http11Protocol.java:380)\n\tat org.apache.tomcat.util.net.TcpWorkerThread.runIt(PoolTcpEndpoint.java:537)\n\tat\norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:533)\n\tat java.lang.Thread.run(Thread.java:536)",
    "hasPatch": false,
    "hasScreenshot": false,
    "id": "14413",
    "issuetypeClassified": "BUG",
    "issuetypeTracker": "BUG",
    "priority": "P3 critical",
    "product": "Tomcat 5",
    "project": "TOMCAT",
    "summary": "NPE while using jsp:attribute in JSP Document",
    "systemSpecification": false,
    "version": "5.0.0"
}