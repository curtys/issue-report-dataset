{
    "comments": [
        {
            "author": null,
            "body": "When  you use that kind of declaration (referencing a WAR), the webapp is run\nwithout unpacking the WAR (although the JARs and the classes will be extracted\nto a temporary location).\nStruts should run in that mode, but webapps which require filesystem access will\nnot (getRealPath() will return null, and direct filesystem access to the\nwebapp's resources will obviously fail).\n\nIf you don't want that to happen, you can let Tomcat extract the WAR, and then\ndeclare your context as <Context path=\"/lexis\" docBase=\"lexis\">.\n",
            "date": "20011113T10:57:38",
            "id": 0
        },
        {
            "author": null,
            "body": "We had already tried your proposal, but it does not work.\n\nWe have not changed the parameter unpackWARs (which -I think-\nis responsible for the unpacking), but Tomcat does not unpack the\nwebapp:\n\n<Host name=\"localhost\" debug=\"0\" appBase=\"webapps\" unpackWARs=\"true\">\n\nIs there any other way to let Tomcat extract the WAR file?\n\nWe _must_ define a context for lexis, to do the folowing:\n1) avoid the sessions to be persisted and reloaded (saveOnRestart=\"false\") when \nTomcat is shut down and restarted (Just because we do not only use struts: we \nalso use log4j, which is not Serializable, and at higher levels the \nPersistentManager declarations seem not to work)\n2) to log4j the lexis application to a specific file/directory\n3) to use application parameters\n\n((Without defining a context for the webapp lexis Tomcat\nDOES extract the WAR file. Only when I __define__ a context\nit DOES NOT!!))\n",
            "date": "20011115T13:34:05",
            "id": 1
        },
        {
            "author": null,
            "body": "What I suggest doing works for me. That's how the examples webapp is declared \n(and it uses a lot of custom parameters).\n\nThe unpackWARs attribute is used only when auto-deploying webapps, not when \nexplicitely declaring contexts.",
            "date": "20011115T14:14:43",
            "id": 2
        },
        {
            "author": null,
            "body": "Yeah, it does work ONLY if the webapp is in extracted form under webapp/lexis...\n\nBUT the examples webapp is now NOT distributed as a war-file. It was so \ndistributed in earlier Versions. Tomcat 3.2.1 had some war-files: admin, \nexamples, ROOT and test. With Catalina these webapps aren't distibuted anymore \nas war-files.\n\nMay this be because of this problem, or should we developers avoid using war-\nfiles to distribute our applications/updates?\n\nPlease take a closer look to the following:\n==================================================================\nWHEN I DO NOT DEFINE A CONTEXT FOR lexis, BUT A DefaultContext,\n\n      <Host name=\"localhost\" debug=\"0\" appBase=\"webapps\" unpackWARs=\"true\">\n\n        <Valve className=\"org.apache.catalina.authenticator.SingleSignOn\"\n                   debug=\"0\"/>\n        <Valve className=\"org.apache.catalina.valves.AccessLogValve\"\n                 directory=\"logs\"  prefix=\"localhost_access_log.\" suffix=\".txt\"\n                 pattern=\"common\"/>\n\n        <Logger className=\"org.apache.catalina.logger.SystemOutLogger\"/>\n\n        <DefaultContext reloadable=\"true\">\n          <Manager className=\"org.apache.catalina.session.PersistentManager\"\n              debug=\"4\"\n              saveOnRestart=\"false\"\n              maxActiveSessions=\"-1\"\n              minIdleSwap=\"-1\"\n              maxIdleSwap=\"-1\"\n              maxIdleBackup=\"-1\">\n                <Store className=\"org.apache.catalina.session.FileStore\"/>\n          </Manager>\n        </DefaultContext>\n        .....\n\nTHE WAR FILE webapps/lexis.war WILL BE EXPANDED AND DEPLOYED.\nBUT THIS DEFAULT CONTEXT WILL JUST BE IGNORED (saveOnRestart=\"false\").\nI AM ALSO NOT ABLE TO DEFINE APPLICATION PARAMETERS:\n==================================================================\nStarting service Tomcat-Standalone\nApache Tomcat/4.0.1\nStandardHost[localhost]: Installing web application at context path /lexis from \nURL jar:file:D:\\Programme\\JBuilder5\\tomcat\\webapps\\lexis.war!/\nWebappLoader[/lexis]: Deploying class repositories to work directory \nD:\\Programme\\JBuilder5\\tomcat\\work\\localhost\\lexis\nWebappLoader[/lexis]: Deploy JAR /WEB-INF/lib/activation.jar to \nD:\\Programme\\JBuilder5\\tomcat\\webapps\\lexis\\WEB-INF\\lib\\activation.jar\nWebappLoader[/lexis]: Deploy JAR /WEB-INF/lib/crimson.jar to \nD:\\Programme\\JBuilder5\\tomcat\\webapps\\lexis\\WEB-INF\\lib\\crimson.jar\nWebappLoader[/lexis]: Deploy JAR /WEB-INF/lib/jaxp.jar to D:\\Programme\\JBuilder5\n\\tomcat\\webapps\\lexis\\WEB-INF\\lib\\jaxp.jar\nWebappLoader[/lexis]: Deploy JAR /WEB-INF/lib/lexis.jar to \nD:\\Programme\\JBuilder5\\tomcat\\webapps\\lexis\\WEB-INF\\lib\\lexis.jar\nWebappLoader[/lexis]: Deploy JAR /WEB-INF/lib/log4j.jar to \nD:\\Programme\\JBuilder5\\tomcat\\webapps\\lexis\\WEB-INF\\lib\\log4j.jar\nWebappLoader[/lexis]: Deploy JAR /WEB-INF/lib/mail.jar to D:\\Programme\\JBuilder5\n\\tomcat\\webapps\\lexis\\WEB-INF\\lib\\mail.jar\nWebappLoader[/lexis]: Deploy JAR /WEB-INF/lib/struts.jar to \nD:\\Programme\\JBuilder5\\tomcat\\webapps\\lexis\\WEB-INF\\lib\\struts.jar\nStandardManager[/lexis]: Seeding random number generator class \njava.security.SecureRandom\nStandardManager[/lexis]: Seeding of random number generator has been completed\nStandardManager[/lexis] IOException while loading persisted sessions: \njava.io.WriteAbortedException: Writing aborted by exception; \njava.io.NotSerializableExce\nion: org.apache.log4j.Category\njava.io.WriteAbortedException: Writing aborted by exception; \njava.io.NotSerializableException: org.apache.log4j.Category\n        at java.io.ObjectInputStream.readObject(ObjectInputStream.java:445)\n        at java.io.ObjectInputStream.inputClassFields\n(ObjectInputStream.java:2263)\n        at java.io.ObjectInputStream.defaultReadObject\n(ObjectInputStream.java:519)\n        at java.io.ObjectInputStream.inputObject(ObjectInputStream.java:1412)\n        at java.io.ObjectInputStream.readObject(ObjectInputStream.java:386)\n        at java.io.ObjectInputStream.inputClassFields\n(ObjectInputStream.java:2263)\n        at java.io.ObjectInputStream.defaultReadObject\n(ObjectInputStream.java:519)\n        at java.io.ObjectInputStream.inputObject(ObjectInputStream.java:1412)\n        at java.io.ObjectInputStream.readObject(ObjectInputStream.java:386)\n        at java.io.ObjectInputStream.readObject(ObjectInputStream.java:236)\n        at org.apache.catalina.session.StandardSession.readObject\n(StandardSession.java:1268)\n        at org.apache.catalina.session.StandardSession.readObjectData\n(StandardSession.java:810)\n        at org.apache.catalina.session.StandardManager.load\n(StandardManager.java:411)\n        at org.apache.catalina.session.StandardManager.start\n(StandardManager.java:617)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1104)\n        at org.apache.catalina.core.StandardContext.start\n(StandardContext.java:3334)\n        at org.apache.catalina.core.ContainerBase.addChild\n(ContainerBase.java:785)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:454)\n        at org.apache.catalina.core.StandardHost.install(StandardHost.java:712)\n        at org.apache.catalina.startup.HostConfig.deployApps\n(HostConfig.java:647)\n        at org.apache.catalina.startup.HostConfig.start(HostConfig.java:777)\n        at org.apache.catalina.startup.HostConfig.lifecycleEvent\n(HostConfig.java:463)\n        at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent\n(LifecycleSupport.java:155)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1131)\n        at org.apache.catalina.core.StandardHost.start(StandardHost.java:612)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1123)\n        at org.apache.catalina.core.StandardEngine.start\n(StandardEngine.java:307)\n        at org.apache.catalina.core.StandardService.start\n(StandardService.java:388)\n        at org.apache.catalina.core.StandardServer.start\n(StandardServer.java:505)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:776)\n        at org.apache.catalina.startup.Catalina.execute(Catalina.java:681)\n        at org.apache.catalina.startup.Catalina.process(Catalina.java:179)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:243)\n\nStandardManager[/lexis] Exception loading sessions from persistent storage\njava.io.WriteAbortedException: Writing aborted by exception; \njava.io.NotSerializableException: org.apache.log4j.Category\n        at java.io.ObjectInputStream.readObject(ObjectInputStream.java:445)\n        at java.io.ObjectInputStream.inputClassFields\n(ObjectInputStream.java:2263)\n        at java.io.ObjectInputStream.defaultReadObject\n(ObjectInputStream.java:519)\n        at java.io.ObjectInputStream.inputObject(ObjectInputStream.java:1412)\n        at java.io.ObjectInputStream.readObject(ObjectInputStream.java:386)\n        at java.io.ObjectInputStream.inputClassFields\n(ObjectInputStream.java:2263)\n        at java.io.ObjectInputStream.defaultReadObject\n(ObjectInputStream.java:519)\n        at java.io.ObjectInputStream.inputObject(ObjectInputStream.java:1412)\n        at java.io.ObjectInputStream.readObject(ObjectInputStream.java:386)\n        at java.io.ObjectInputStream.readObject(ObjectInputStream.java:236)\n        at org.apache.catalina.session.StandardSession.readObject\n(StandardSession.java:1268)\n        at org.apache.catalina.session.StandardSession.readObjectData\n(StandardSession.java:810)\n        at org.apache.catalina.session.StandardManager.load\n(StandardManager.java:411)\n        at org.apache.catalina.session.StandardManager.start\n(StandardManager.java:617)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1104)\n        at org.apache.catalina.core.StandardContext.start\n(StandardContext.java:3334)\n        at org.apache.catalina.core.ContainerBase.addChild\n(ContainerBase.java:785)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:454)\n        at org.apache.catalina.core.StandardHost.install(StandardHost.java:712)\n        at org.apache.catalina.startup.HostConfig.deployApps\n(HostConfig.java:647)\n        at org.apache.catalina.startup.HostConfig.start(HostConfig.java:777)\n        at org.apache.catalina.startup.HostConfig.lifecycleEvent\n(HostConfig.java:463)\n        at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent\n(LifecycleSupport.java:155)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1131)\n        at org.apache.catalina.core.StandardHost.start(StandardHost.java:612)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1123)\n        at org.apache.catalina.core.StandardEngine.start\n(StandardEngine.java:307)\n        at org.apache.catalina.core.StandardService.start\n(StandardService.java:388)\n        at org.apache.catalina.core.StandardServer.start\n(StandardServer.java:505)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:776)\n        at org.apache.catalina.startup.Catalina.execute(Catalina.java:681)\n        at org.apache.catalina.startup.Catalina.process(Catalina.java:179)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:243)\n\nContextConfig[/lexis]: Configured an authenticator for method BASIC\nStandardWrapper[/lexis:default]: Loading container servlet default\ndefault: init\naction: init\n2001-11-16 09:20:47,185 [main] INFO  com.lincas.web.servlets.MainServlet  - Die \nLexis Anwendungskonfigurationsdatei D:\\Programme\\JBuilder5\\tomcat\\webapps\\lexi\nWEB-INF\\lexis-config.xml wurde geladen\n2001-11-16 09:20:47,195 [main] INFO  com.lincas.web.servlets.MainServlet  - \nDefault Lexis Anwendungskonfiguration: LEXIS\n2001-11-16 09:20:47,195 [main] INFO  com.lincas.web.servlets.MainServlet  - \nMailserver 195.206.1.128 f\u00b3r LEXIS initialisiert\n2001-11-16 09:20:47,195 [main] INFO  com.lincas.web.servlets.MainServlet  - \nMailserver 195.206.1.128 f\u00b3r ROLIX initialisiert\n2001-11-16 09:20:47,195 [main] INFO  com.lincas.web.servlets.MainServlet  - \nMailserver 195.206.1.128 f\u00b3r KOLIX initialisiert\n2001-11-16 09:20:47,195 [main] INFO  com.lincas.web.servlets.MainServlet  - Die \nLEXIS-Anwendung wurde initialisiert\nStandardWrapper[/lexis:invoker]: Loading container servlet invoker\ninvoker: init\njsp: init\nStandardHost[localhost]: Installing web application at context path /manager \nfrom URL file:D:\\Programme\\JBuilder5\\tomcat\\webapps\\manager\nWebappLoader[/manager]: Deploying class repositories to work directory \nD:\\Programme\\JBuilder5\\tomcat\\work\\localhost\\manager\nStandardManager[/manager]: Seeding random number generator class \njava.security.SecureRandom\nStandardManager[/manager]: Seeding of random number generator has been completed\nContextConfig[/manager]: Configured an authenticator for method BASIC\nStandardWrapper[/manager:default]: Loading container servlet default\ndefault: init\nStandardWrapper[/manager:invoker]: Loading container servlet invoker\ninvoker: init\njsp: init\nStandardHost[localhost]: Installing web application at context path  from URL \nfile:D:\\Programme\\JBuilder5\\tomcat\\webapps\\ROOT\nWebappLoader[]: Deploying class repositories to work directory \nD:\\Programme\\JBuilder5\\tomcat\\work\\localhost\\_\nStandardManager[]: Seeding random number generator class \njava.security.SecureRandom\nStandardManager[]: Seeding of random number generator has been completed\nStandardWrapper[:default]: Loading container servlet default\ndefault: init\nStandardWrapper[:invoker]: Loading container servlet invoker\ninvoker: init\njsp: init\nStandardHost[localhost]: Installing web application at context path /tomcat-\ndocs from URL file:D:\\Programme\\JBuilder5\\tomcat\\webapps\\tomcat-docs\nWebappLoader[/tomcat-docs]: Deploying class repositories to work directory \nD:\\Programme\\JBuilder5\\tomcat\\work\\localhost\\tomcat-docs\nStandardManager[/tomcat-docs]: Seeding random number generator class \njava.security.SecureRandom\nStandardManager[/tomcat-docs]: Seeding of random number generator has been \ncompleted\nStandardWrapper[/tomcat-docs:default]: Loading container servlet default\ndefault: init\nStandardWrapper[/tomcat-docs:invoker]: Loading container servlet invoker\ninvoker: init\njsp: init\nStandardHost[localhost]: Installing web application at context path /webdav \nfrom URL file:D:\\Programme\\JBuilder5\\tomcat\\webapps\\webdav\nWebappLoader[/webdav]: Deploying class repositories to work directory \nD:\\Programme\\JBuilder5\\tomcat\\work\\localhost\\webdav\nStandardManager[/webdav]: Seeding random number generator class \njava.security.SecureRandom\nStandardManager[/webdav]: Seeding of random number generator has been completed\nStandardWrapper[/webdav:default]: Loading container servlet default\ndefault: init\nStandardWrapper[/webdav:invoker]: Loading container servlet invoker\ninvoker: init\njsp: init\nStarting service Tomcat-Apache\nApache Tomcat/4.0.1\n\n==================================================================\nWHEN I DEFINE A CONTEXT FOR lexis, \n\n        <Context path=\"/lexis\" docBase=\"lexis\" debug=\"0\" reloadable=\"true\">\n          <Logger className=\"org.apache.catalina.logger.FileLogger\"\n                  prefix=\"localhost_lexis_log.\" suffix=\".txt\" timestamp=\"true\"/>\n          <Manager className=\"org.apache.catalina.session.PersistentManager\"\n                 debug=\"0\"\n                 saveOnRestart=\"false\"\n                 maxActiveSessions=\"-1\"\n                 minIdleSwap=\"-1\"\n                 maxIdleSwap=\"-1\"\n                 maxIdleBackup=\"-1\">\n                <Store className=\"org.apache.catalina.session.FileStore\"/>\n          </Manager>\n        </Context>\n        \nTHE WAR FILE webapps/lexis.war WILL NOT BE EXPANDED AND DEPLOYED\n(I HAVE DIRECTORY webapps/lexis DELETED BEFORE STARTING TOMCAT):\n==================================================================\nStarting service Tomcat-Standalone\nApache Tomcat/4.0.1\nStandardHost[localhost]: Installing web application at context path /manager \nfrom URL file:D:\\Programme\\JBuilder5\\tomcat\\webapps\\manager\nWebappLoader[/manager]: Deploying class repositories to work directory \nD:\\Programme\\JBuilder5\\tomcat\\work\\localhost\\manager\nStandardManager[/manager]: Seeding random number generator class \njava.security.SecureRandom\nStandardManager[/manager]: Seeding of random number generator has been completed\nContextConfig[/manager]: Configured an authenticator for method BASIC\nStandardWrapper[/manager:default]: Loading container servlet default\ndefault: init\nStandardWrapper[/manager:invoker]: Loading container servlet invoker\ninvoker: init\njsp: init\nStandardHost[localhost]: Installing web application at context path  from URL \nfile:D:\\Programme\\JBuilder5\\tomcat\\webapps\\ROOT\nWebappLoader[]: Deploying class repositories to work directory \nD:\\Programme\\JBuilder5\\tomcat\\work\\localhost\\_\nStandardManager[]: Seeding random number generator class \njava.security.SecureRandom\nStandardManager[]: Seeding of random number generator has been completed\nStandardWrapper[:default]: Loading container servlet default\ndefault: init\nStandardWrapper[:invoker]: Loading container servlet invoker\ninvoker: init\njsp: init\nStandardHost[localhost]: Installing web application at context path /tomcat-\ndocs from URL file:D:\\Programme\\JBuilder5\\tomcat\\webapps\\tomcat-docs\nWebappLoader[/tomcat-docs]: Deploying class repositories to work directory \nD:\\Programme\\JBuilder5\\tomcat\\work\\localhost\\tomcat-docs\nStandardManager[/tomcat-docs]: Seeding random number generator class \njava.security.SecureRandom\nStandardManager[/tomcat-docs]: Seeding of random number generator has been \ncompleted\nStandardWrapper[/tomcat-docs:default]: Loading container servlet default\ndefault: init\nStandardWrapper[/tomcat-docs:invoker]: Loading container servlet invoker\ninvoker: init\njsp: init\nStandardHost[localhost]: Installing web application at context path /webdav \nfrom URL file:D:\\Programme\\JBuilder5\\tomcat\\webapps\\webdav\nWebappLoader[/webdav]: Deploying class repositories to work directory \nD:\\Programme\\JBuilder5\\tomcat\\work\\localhost\\webdav\nStandardManager[/webdav]: Seeding random number generator class \njava.security.SecureRandom\nStandardManager[/webdav]: Seeding of random number generator has been completed\nStandardWrapper[/webdav:default]: Loading container servlet default\ndefault: init\nStandardWrapper[/webdav:invoker]: Loading container servlet invoker\ninvoker: init\njsp: init\nStarting service Tomcat-Apache\nApache Tomcat/4.0.1\n================================================================================\n=====\nAND WHEN I TRY TO CALL THE WEBAPP (http://localhost:8080/lexis/lexis.do) I \nBECOME:\nHTTP Status 404: The requested resource (/lexis/lexis.do) is not available\n================================================================================\n=====\n\n\n\n",
            "date": "20011116T00:38:45",
            "id": 3
        },
        {
            "author": null,
            "body": "I have test the DefaultContext with nightly 11/12/2001 build\nand it works with Parameter and Env \n",
            "date": "20011116T02:08:40",
            "id": 4
        },
        {
            "author": null,
            "body": "*** Bug 5105 has been marked as a duplicate of this bug. ***",
            "date": "20011127T11:55:43",
            "id": 5
        },
        {
            "author": null,
            "body": "*** Bug 5105 has been marked as a duplicate of this bug. ***",
            "date": "20011128T09:10:16",
            "id": 6
        },
        {
            "author": null,
            "body": "*** Bug 5600 has been marked as a duplicate of this bug. ***",
            "date": "20020102T06:36:34",
            "id": 7
        },
        {
            "author": null,
            "body": "[Note that this is still the behaviour in 4.0.2].\n\nI must concur with the reporter.  The documentation at tomcat-\ndocs/config/host.html leads one to believe that the auto-deployment of the \napplication is orthogonal to the automatic creation of the <context> if it is \nnot supplied. \n\nA work-around we have experimented with is to choose a path that is different \nfrom the docBase (given that documents.war is in the webapps directory):\n\t<Context path=\u201d/docs\u201d docBase=\u201ddocuments\u201d/>\nAt first this seems to work but there are two problems\n1. This actually deploys as two applications, each using the same docBase.  \nOnce at /docs and the other at /documents.\n2. There is a race condition.  If the \u201c/doc\u201d context is started before the \ndocuments.war is deployed it will not be found until tomcat is restarted.\n\nIt does not seem unreasonable to want to have a war file auto deploy and \nspecify a <context> in the server.xml file.  I may have an application for \nwhich I wish to create files in the applications docBase and want to add \nparameters to the <context> (e.g. <realm>.\n",
            "date": "20020216T03:21:15",
            "id": 8
        },
        {
            "author": null,
            "body": "As I stated quite a few times, this \"bug\" will not be fixed.\nIf you are not satisfied with the current behavior, the best way to fix it is to\nsubmit a patch, and we'll consider it for inclusion.",
            "date": "20020216T07:04:10",
            "id": 9
        },
        {
            "author": null,
            "body": "*** Bug 6941 has been marked as a duplicate of this bug. ***",
            "date": "20020306T23:30:47",
            "id": 10
        },
        {
            "author": null,
            "body": "I have also observed this behavior. This probably could be considered more of a \nbug in the documentation than the code. The 4.0 on-line docs state you can \"set \n(the unpackWARS attribute of a <Host> element) to true if you want web \napplications that are deployed into this virtual host from a Web Application \nArchive (WAR) file to be unpacked into a disk directory structure.\" They also \nstate that \"(y)ou can nest one or more Context elements inside this Host \nelement, each representing a different web application associated with this \nvirtual host.\"\n\nAs to Context, \"(t)he <Context> element represents a web application, which is \nrun within a particular virtual host. Each web application is based on a Web \nApplication Archive (WAR) file, or a corresponding directory containing the \ncorresponding unpacked contents...\", and that\"(e)ach (<Context> element) MUST \nhave a unique context path, which is defined by the path attribute.\"\n\nThe docs don't say that before Tomcat unpacks any warfiles, it will first \nattempt to verify the context path of a <Context> element by checking for a \nweb.xml file in the corresponding webapp WEB-INF directories. It also doesn't \nstate that if it can't find the web.xml file in the context path directory \nreferenced by the <Context> element, it will shut down.\n\nIf anything, the desired behavior should be the opposite: unpack the warfiles, \nthen check the <Context> elements in server.xml against the appropriate \nweb.xml. That might be a little less irritating than not.\n\nPaulGarvie",
            "date": "20020322T18:36:32",
            "id": 11
        },
        {
            "author": null,
            "body": "*** Bug 7527 has been marked as a duplicate of this bug. ***",
            "date": "20020327T18:22:14",
            "id": 12
        },
        {
            "author": null,
            "body": "I strongly believe this is a problem. As an example, if I have a WAR file \nnamed \"MyAppl.war\", and I dont define anything about it in \"server.xml\", just \nplace the file in CATALINA_HOME/webapps, the file is automatically unpacked. \nBut in order to be able to get other servlet contexts, if I add the following \nline in the server.xml :\n\n<Context path=\"/MyAppl\"  docBase=\"MyAppl\" crossContext=\"true\"/>\n\nnow the WAR file is NOT automatically expanded. \n\nIn summary \"a WAR file is automatically expanded by Tomcat, but if I just want \nto enable crosscontext support, it will not be expanded automatically.\" Doesnt \nit sound like a bug?  Just because I want the crosscontext property enabled for \nthe application and I  add a line in server.xml I would not be able to \ndistribute my app as a WAR file, but would have to distribute it in expanded \nform?\n",
            "date": "20020327T21:33:56",
            "id": 13
        },
        {
            "author": null,
            "body": "*** Bug 8036 has been marked as a duplicate of this bug. ***",
            "date": "20020412T23:05:12",
            "id": 14
        },
        {
            "author": null,
            "body": "*** Bug 8418 has been marked as a duplicate of this bug. ***",
            "date": "20020423T15:01:30",
            "id": 15
        },
        {
            "author": null,
            "body": "*** Bug 6739 has been marked as a duplicate of this bug. ***",
            "date": "20020606T01:07:03",
            "id": 16
        },
        {
            "author": null,
            "body": "Dear Remy\n\nYou have my full sympathy about this problem, but there is a lot of confusion \noccurring.\n\nYou're being perfectly reasonable both in pointing out that this isn't a bug at \nall, but the designed behavior, and in suggesting that bug reporters instead \nsubmit a patch to change the behavior.\n\nThe problem is that many people who are experiencing this bug, and this applies \nto me, are not technically adept enough to propose such a change - is there any \nchance that you could revisit the stated design and , or would this then \ncontravene a specification?\n\nWhat I believe people want or need is to be able to start Tomcat *with* a \ncontext (e.g. \"MyApp\") defined in server.xml, and with a \"MyApp.war\" file in \nplace, but *without* the exploded \"MyApp\" webapp directory; in this scenario it \nwould be most excellent if Tomcat unpacked the WAR before alternatively \ndiscovering the absence of the declared context.\n\nWhat are your thoughts on this suggestion?\n\nTIA\n\nKind regards\nTim Cooke\nP.S. At present I run Tomcat 4.0.1.\n",
            "date": "20020715T13:56:34",
            "id": 17
        },
        {
            "author": null,
            "body": "No further behavior modifications will be made in Tomcat 4.1.x, so this won't be\naddressed.",
            "date": "20030422T08:48:20",
            "id": 18
        },
        {
            "author": null,
            "body": "Improvements have been made to Tomcat 5.0 deployer, which should address this\nRFE. This will be in Tomcat 5.0.4.",
            "date": "20030624T22:50:17",
            "id": 19
        }
    ],
    "component": "Catalina",
    "description": "When we define a context in the server.xml file for our application, it will \nnot be deployed. We have deleted the directory webapps/lexis before starting \ntomcat.\n\n        <Context path=\"/lexis\" docBase=\"lexis.war\">\n            <Parameter name=\"appName\" value=\"lexis\" override=\"false\"/>\n            <Logger className=\"org.apache.catalina.logger.FileLogger\"\n                  prefix=\"localhost_lexis_log.\" suffix=\".txt\" timestamp=\"true\"/>\n        </Context>\n\nWithout defining a context the application lexis is deployed and starts without \nany problems.\n\nIt does however work while working with Apache and the Warp Connector when it \nis first activated by calling http://www.foobar.com/lexis/lexis.do",
    "hasPatch": false,
    "hasScreenshot": false,
    "id": "4829",
    "issuetypeClassified": "RFE",
    "issuetypeTracker": "RFE",
    "priority": "P1 enhancement",
    "product": "Tomcat 5",
    "project": "TOMCAT",
    "summary": "Automatic deployment of war files does not work properly",
    "systemSpecification": false,
    "version": "5.0.3"
}