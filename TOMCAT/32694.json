{
    "comments": [
        {
            "author": null,
            "body": "There's a defect in the code which makes the path absolute in the antiLocking\nmethod, which eventually causes the exception. You don't seem to like running\nthe VM from Tomcat's CATALINA_BASE path. But, it's cool, by doing unusual\nthings, you run into more issues.",
            "date": "20041214T14:58:54",
            "id": 0
        },
        {
            "author": null,
            "body": "In this particular case Tomcat was run as an NT service by means provided by\nWindoze installer. I have not applied any changes to what the installer had\nplaced on my FS. Nothing unusual IMHO.",
            "date": "20041214T15:14:23",
            "id": 1
        }
    ],
    "component": "Catalina",
    "description": "After setting antiResourceLocking=\"true\" in default conf/context.xml I get the\nfollowing on Tomcat startup (and each subsequent deployment).\n\n2004-12-14 14:12:18 org.apache.coyote.http11.Http11Protocol init\nINFO: Initializing Coyote HTTP/1.1 on http-8080\n2004-12-14 14:12:18 org.apache.catalina.startup.Catalina load\nINFO: Initialization processed in 1704 ms\n2004-12-14 14:12:18 org.apache.catalina.core.StandardService start\nINFO: Starting service Catalina\n2004-12-14 14:12:18 org.apache.catalina.core.StandardEngine start\nINFO: Starting Servlet Engine: Apache Tomcat/5.5.6\n2004-12-14 14:12:18 org.apache.catalina.core.StandardHost start\nINFO: XML validation disabled\n2004-12-14 14:12:19 org.apache.catalina.core.ApplicationContext log\nINFO: org.apache.webapp.balancer.BalancerFilter: init(): ruleChain:\n[org.apache.webapp.balancer.RuleChain:\n[org.apache.webapp.balancer.rules.URLStringMatchRule: Target string: News /\nRedirect URL: http://www.cnn.com],\n[org.apache.webapp.balancer.rules.RequestParameterRule: Target param name:\nparamName / Target param value: paramValue / Redirect URL:\nhttp://www.yahoo.com], [org.apache.webapp.balancer.rules.AcceptEverythingRule:\nRedirect URL: http://jakarta.apache.org]]\njava.io.FileNotFoundException: webapps\\jsp-examples (System nie mo&#380;e odnale&#378;&#263;\nokre&#347;lonej &#347;cie&#380;ki)\n\tat java.io.FileInputStream.open(Native Method)\n\tat java.io.FileInputStream.<init>(Unknown Source)\n\tat org.apache.catalina.startup.ExpandWar.copyInternal(ExpandWar.java:226)\n\tat org.apache.catalina.startup.ExpandWar.copy(ExpandWar.java:192)\n\tat org.apache.catalina.startup.ContextConfig.antiLocking(ContextConfig.java:878)\n\tat org.apache.catalina.startup.ContextConfig.beforeStart(ContextConfig.java:915)\n\tat org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:251)\n\tat\norg.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\n\tat org.apache.catalina.core.StandardContext.start(StandardContext.java:3871)\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:759)\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:739)\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:525)\n\tat org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:907)\n\tat org.apache.catalina.startup.HostConfig.deployDirectories(HostConfig.java:870)\n\tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:474)\n\tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1104)\n\tat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:310)\n\tat\norg.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\n\tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1019)\n\tat org.apache.catalina.core.StandardHost.start(StandardHost.java:718)\n\tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1011)\n\tat org.apache.catalina.core.StandardEngine.start(StandardEngine.java:437)\n\tat org.apache.catalina.core.StandardService.start(StandardService.java:450)\n\tat org.apache.catalina.core.StandardServer.start(StandardServer.java:2010)\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:537)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:271)\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:409)\n2004-12-14 14:12:20 org.apache.catalina.core.ApplicationContext log\nINFO: ContextListener: contextInitialized()\n2004-12-14 14:12:20 org.apache.catalina.core.ApplicationContext log\nINFO: SessionListener: contextInitialized()\njava.io.FileNotFoundException: webapps\\ROOT (System nie mo&#380;e odnale&#378;&#263; okre&#347;lonej\n&#347;cie&#380;ki)\n\tat java.io.FileInputStream.open(Native Method)\n\tat java.io.FileInputStream.<init>(Unknown Source)\n\tat org.apache.catalina.startup.ExpandWar.copyInternal(ExpandWar.java:226)\n\tat org.apache.catalina.startup.ExpandWar.copy(ExpandWar.java:192)\n\tat org.apache.catalina.startup.ContextConfig.antiLocking(ContextConfig.java:878)\n\tat org.apache.catalina.startup.ContextConfig.beforeStart(ContextConfig.java:915)\n\tat org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:251)\n\tat\norg.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\n\tat org.apache.catalina.core.StandardContext.start(StandardContext.java:3871)\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:759)\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:739)\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:525)\n\tat org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:907)\n\tat org.apache.catalina.startup.HostConfig.deployDirectories(HostConfig.java:870)\n\tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:474)\n\tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1104)\n\tat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:310)\n\tat\norg.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\n\tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1019)\n\tat org.apache.catalina.core.StandardHost.start(StandardHost.java:718)\n\tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1011)\n\tat org.apache.catalina.core.StandardEngine.start(StandardEngine.java:437)\n\tat org.apache.catalina.core.StandardService.start(StandardService.java:450)\n\tat org.apache.catalina.core.StandardServer.start(StandardServer.java:2010)\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:537)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:271)\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:409)\njava.io.FileNotFoundException: webapps\\servlets-examples (System nie mo&#380;e\nodnale&#378;&#263; okre&#347;lonej &#347;cie&#380;ki)\n\tat java.io.FileInputStream.open(Native Method)\n\tat java.io.FileInputStream.<init>(Unknown Source)\n\tat org.apache.catalina.startup.ExpandWar.copyInternal(ExpandWar.java:226)\n\tat org.apache.catalina.startup.ExpandWar.copy(ExpandWar.java:192)\n\tat org.apache.catalina.startup.ContextConfig.antiLocking(ContextConfig.java:878)\n\tat org.apache.catalina.startup.ContextConfig.beforeStart(ContextConfig.java:915)\n\tat org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:251)\n\tat\norg.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\n\tat org.apache.catalina.core.StandardContext.start(StandardContext.java:3871)\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:759)\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:739)\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:525)\n\tat org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:907)\n\tat org.apache.catalina.startup.HostConfig.deployDirectories(HostConfig.java:870)\n\tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:474)\n\tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1104)\n\tat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:310)\n\tat\norg.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\n\tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1019)\n\tat org.apache.catalina.core.StandardHost.start(StandardHost.java:718)\n\tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1011)\n\tat org.apache.catalina.core.StandardEngine.start(StandardEngine.java:437)\n\tat org.apache.catalina.core.StandardService.start(StandardService.java:450)\n\tat org.apache.catalina.core.StandardServer.start(StandardServer.java:2010)\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:537)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:271)\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:409)\n2004-12-14 14:12:20 org.apache.catalina.core.ApplicationContext log\nINFO: ContextListener: contextInitialized()\n2004-12-14 14:12:20 org.apache.catalina.core.ApplicationContext log\nINFO: SessionListener: contextInitialized()\njava.io.FileNotFoundException: webapps\\tomcat-docs (System nie mo&#380;e odnale&#378;&#263;\nokre&#347;lonej &#347;cie&#380;ki)\n\tat java.io.FileInputStream.open(Native Method)\n\tat java.io.FileInputStream.<init>(Unknown Source)\n\tat org.apache.catalina.startup.ExpandWar.copyInternal(ExpandWar.java:226)\n\tat org.apache.catalina.startup.ExpandWar.copy(ExpandWar.java:192)\n\tat org.apache.catalina.startup.ContextConfig.antiLocking(ContextConfig.java:878)\n\tat org.apache.catalina.startup.ContextConfig.beforeStart(ContextConfig.java:915)\n\tat org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:251)\n\tat\norg.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\n\tat org.apache.catalina.core.StandardContext.start(StandardContext.java:3871)\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:759)\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:739)\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:525)\n\tat org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:907)\n\tat org.apache.catalina.startup.HostConfig.deployDirectories(HostConfig.java:870)\n\tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:474)\n\tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1104)\n\tat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:310)\n\tat\norg.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\n\tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1019)\n\tat org.apache.catalina.core.StandardHost.start(StandardHost.java:718)\n\tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1011)\n\tat org.apache.catalina.core.StandardEngine.start(StandardEngine.java:437)\n\tat org.apache.catalina.core.StandardService.start(StandardService.java:450)\n\tat org.apache.catalina.core.StandardServer.start(StandardServer.java:2010)\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:537)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:271)\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:409)\njava.io.FileNotFoundException: webapps\\webdav (System nie mo&#380;e odnale&#378;&#263;\nokre&#347;lonej &#347;cie&#380;ki)\n\tat java.io.FileInputStream.open(Native Method)\n\tat java.io.FileInputStream.<init>(Unknown Source)\n\tat org.apache.catalina.startup.ExpandWar.copyInternal(ExpandWar.java:226)\n\tat org.apache.catalina.startup.ExpandWar.copy(ExpandWar.java:192)\n\tat org.apache.catalina.startup.ContextConfig.antiLocking(ContextConfig.java:878)\n\tat org.apache.catalina.startup.ContextConfig.beforeStart(ContextConfig.java:915)\n\tat org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:251)\n\tat\norg.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\n\tat org.apache.catalina.core.StandardContext.start(StandardContext.java:3871)\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:759)\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:739)\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:525)\n\tat org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:907)\n\tat org.apache.catalina.startup.HostConfig.deployDirectories(HostConfig.java:870)\n\tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:474)\n\tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1104)\n\tat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:310)\n\tat\norg.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\n\tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1019)\n\tat org.apache.catalina.core.StandardHost.start(StandardHost.java:718)\n\tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1011)\n\tat org.apache.catalina.core.StandardEngine.start(StandardEngine.java:437)\n\tat org.apache.catalina.core.StandardService.start(StandardService.java:450)\n\tat org.apache.catalina.core.StandardServer.start(StandardServer.java:2010)\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:537)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:271)\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:409)\n2004-12-14 14:12:21 org.apache.coyote.http11.Http11Protocol start\nINFO: Starting Coyote HTTP/1.1 on http-8080\n2004-12-14 14:12:21 org.apache.jk.common.ChannelSocket init\nINFO: JK2: ajp13 listening on /0.0.0.0:8009\n2004-12-14 14:12:21 org.apache.jk.server.JkMain start\nINFO: Jk running ID=0 time=0/47  config=null\n2004-12-14 14:12:21 org.apache.catalina.startup.Catalina start\nINFO: Server startup in 3531 ms\n\nBesides, the antiResourceLocking has *NO* (Yes, I tried harder, Remy :P)\ninfluence on deployed applications, apart from the exception being thrown.",
    "hasPatch": false,
    "hasScreenshot": false,
    "id": "32694",
    "issuetypeClassified": "BUG",
    "issuetypeTracker": "BUG",
    "priority": "P2 normal",
    "product": "Tomcat 5",
    "project": "TOMCAT",
    "summary": "java.io.FileNotFoundException on startup when antiResourceLocking=\"true\" on default context",
    "systemSpecification": true,
    "version": "5.5.6"
}