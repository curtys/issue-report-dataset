{
    "comments": [
        {
            "author": null,
            "body": "*** Bug 17748 has been marked as a duplicate of this bug. ***",
            "date": "20030307T00:39:44",
            "id": 0
        },
        {
            "author": null,
            "body": "In addition on switching the order the first service comes up. However with the\nsecond service I get the following error\n[WARN] MapperListener - -Error registering Context\nCatalina:j2eeType=WebModule,name=//foo/webapps,J2EEApplication=none,J2EEServer=none\n<java.lang.ArrayIndexOutOfBoundsException>java.lang.ArrayIndexOutOfBoundsException\n        at org.apache.tomcat.util.http.mapper.Mapper.addContext(Mapper.java:192)\n       at\norg.apache.coyote.tomcat5.MapperListener.registerContext(MapperListener.java:300)\n        at\norg.apache.coyote.tomcat5.MapperListener.handleNotification(MapperListener.java:192)\n        at\ncom.sun.management.jmx.MBeanServerNotificationListener.handleNotification(MBeanServerNotificationListener.java:48)\n        at\njavax.management.NotificationBroadcasterSupport.sendNotification(NotificationBroadcasterSupport.java:142)\n        at\njavax.management.MBeanServerDelegate.sendNotification(MBeanServerDelegate.java:176)\n        at\ncom.sun.management.jmx.MBeanServerImpl.sendNotification(MBeanServerImpl.java:2645)\n        at\ncom.sun.management.jmx.MBeanServerImpl.internal_addObject(MBeanServerImpl.java:2368)\n        at\ncom.sun.management.jmx.MBeanServerImpl.registerMBean(MBeanServerImpl.java:874)\n        at org.apache.commons.modeler.Registry.registerComponent(Registry.java:438)\n        at org.apache.commons.modeler.Registry.registerComponent(Registry.java:391)\n        at\norg.apache.catalina.core.StandardContext.registerJMX(StandardContext.java:4667)\n        at org.apache.catalina.core.StandardContext.start(StandardContext.java:3964)\n        at\norg.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:831)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:817)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:632)\n       at\norg.apache.catalina.core.StandardHostDeployer.install(StandardHostDeployer.java:305)\n        at org.apache.catalina.core.StandardHost.install(StandardHost.java:825)\n        at\norg.apache.catalina.startup.HostConfig.deployDirectories(HostConfig.java:631)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:471)\n        at org.apache.catalina.startup.HostConfig.start(HostConfig.java:814)\n        at\norg.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:428)\n        at\norg.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:166)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1235)\n       at org.apache.catalina.core.StandardHost.start(StandardHost.java:791)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1227)\n       at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:351)\n        at org.apache.catalina.core.StandardService.start(StandardService.java:516)\n        at org.apache.catalina.core.StandardServer.start(StandardServer.java:2291)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:540)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:297)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:394)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at org.apache.commons.launcher.ChildMain.run(ChildMain.java:269)\n\n[WARN] MapperListener - -Error registering Wrapper\nCatalina:j2eeType=Servlet,name=default,WebModule=foo/webapps,J2EEApplication=none,J2EEServer=none\n<java.lang.ArrayIndexOutOfBoundsException>java.lang.ArrayIndexOutOfBoundsException\n        at org.apache.tomcat.util.http.mapper.Mapper.addWrapper(Mapper.java:245)\n       at\norg.apache.coyote.tomcat5.MapperListener.registerWrapper(MapperListener.java:375)\n        at\norg.apache.coyote.tomcat5.MapperListener.handleNotification(MapperListener.java:198)\n        at\ncom.sun.management.jmx.MBeanServerNotificationListener.handleNotification(MBeanServerNotificationListener.java:48)\n        at\njavax.management.NotificationBroadcasterSupport.sendNotification(NotificationBroadcasterSupport.java:142)\n        at\njavax.management.MBeanServerDelegate.sendNotification(MBeanServerDelegate.java:176)\n        at\ncom.sun.management.jmx.MBeanServerImpl.sendNotification(MBeanServerImpl.java:2645)\n        at\ncom.sun.management.jmx.MBeanServerImpl.internal_addObject(MBeanServerImpl.java:2368)\n        at\ncom.sun.management.jmx.MBeanServerImpl.registerMBean(MBeanServerImpl.java:874)\n        at org.apache.commons.modeler.Registry.registerComponent(Registry.java:438)\n        at org.apache.commons.modeler.Registry.registerComponent(Registry.java:391)\n        at\norg.apache.catalina.core.StandardWrapper.registerJMX(StandardWrapper.java:1516)\n        at\norg.apache.catalina.core.StandardContext.registerJMX(StandardContext.java:4674)\n        at org.apache.catalina.core.StandardContext.start(StandardContext.java:3964)\n        at\norg.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:831)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:817)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:632)\n       at\norg.apache.catalina.core.StandardHostDeployer.install(StandardHostDeployer.java:305)\n        at org.apache.catalina.core.StandardHost.install(StandardHost.java:825)\n        at\norg.apache.catalina.startup.HostConfig.deployDirectories(HostConfig.java:631)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:471)\n        at org.apache.catalina.startup.HostConfig.start(HostConfig.java:814)\n        at\norg.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:428)\n        at\norg.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:166)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1235)\n       at org.apache.catalina.core.StandardHost.start(StandardHost.java:791)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1227)\n       at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:351)\n        at org.apache.catalina.core.StandardService.start(StandardService.java:516)\n        at org.apache.catalina.core.StandardServer.start(StandardServer.java:2291)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:540)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:297)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:394)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at org.apache.commons.launcher.ChildMain.run(ChildMain.java:269)\n\n[WARN] MapperListener - -Error registering Wrapper\nCatalina:j2eeType=Servlet,name=invoker,WebModule=jwsdp-services/jaxm-provider,J2EEApplication=none,J2EEServer=none\n<java.lang.ArrayIndexOutOfBoundsException>java.lang.ArrayIndexOutOfBoundsException\n        at org.apache.tomcat.util.http.mapper.Mapper.addWrapper(Mapper.java:245)\n       at\norg.apache.coyote.tomcat5.MapperListener.registerWrapper(MapperListener.java:375)\n        at\norg.apache.coyote.tomcat5.MapperListener.handleNotification(MapperListener.java:198)\n        at\ncom.sun.management.jmx.MBeanServerNotificationListener.handleNotification(MBeanServerNotificationListener.java:48)\n        at\njavax.management.NotificationBroadcasterSupport.sendNotification(NotificationBroadcasterSupport.java:142)\n        at\njavax.management.MBeanServerDelegate.sendNotification(MBeanServerDelegate.java:176)\n        at\ncom.sun.management.jmx.MBeanServerImpl.sendNotification(MBeanServerImpl.java:2645)\n        at\ncom.sun.management.jmx.MBeanServerImpl.internal_addObject(MBeanServerImpl.java:2368)\n        at\ncom.sun.management.jmx.MBeanServerImpl.registerMBean(MBeanServerImpl.java:874)\n        at org.apache.commons.modeler.Registry.registerComponent(Registry.java:438)\n        at org.apache.commons.modeler.Registry.registerComponent(Registry.java:391)\n        at\norg.apache.catalina.core.StandardWrapper.registerJMX(StandardWrapper.java:1516)\n        at\norg.apache.catalina.core.StandardContext.registerJMX(StandardContext.java:4674)\n        at org.apache.catalina.core.StandardContext.start(StandardContext.java:3964)\n        at\norg.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:831)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:817)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:632)\n       at\norg.apache.catalina.core.StandardHostDeployer.install(StandardHostDeployer.java:305)\n        at org.apache.catalina.core.StandardHost.install(StandardHost.java:825)\n        at\norg.apache.catalina.startup.HostConfig.deployDirectories(HostConfig.java:631)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:471)\n        at org.apache.catalina.startup.HostConfig.start(HostConfig.java:814)\n        at\norg.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:428)\n        at\norg.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:166)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1235)\n       at org.apache.catalina.core.StandardHost.start(StandardHost.java:791)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1227)\n       at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:351)\n        at org.apache.catalina.core.StandardService.start(StandardService.java:516)\n        at org.apache.catalina.core.StandardServer.start(StandardServer.java:2291)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:540)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:297)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:394)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at org.apache.commons.launcher.ChildMain.run(ChildMain.java:269)\n\n[WARN] MapperListener - -Error registering Wrapper\nCatalina:j2eeType=Servlet,name=jsp,WebModule=foo/webapps,J2EEApplication=none,J2EEServer=none\n<java.lang.ArrayIndexOutOfBoundsException>java.lang.ArrayIndexOutOfBoundsException\n        at org.apache.tomcat.util.http.mapper.Mapper.addWrapper(Mapper.java:245)\n       at\norg.apache.coyote.tomcat5.MapperListener.registerWrapper(MapperListener.java:375)\n        at\norg.apache.coyote.tomcat5.MapperListener.handleNotification(MapperListener.java:198)\n        at\ncom.sun.management.jmx.MBeanServerNotificationListener.handleNotification(MBeanServerNotificationListener.java:48)\n        at\njavax.management.NotificationBroadcasterSupport.sendNotification(NotificationBroadcasterSupport.java:142)\n        at\njavax.management.MBeanServerDelegate.sendNotification(MBeanServerDelegate.java:176)\n        at\ncom.sun.management.jmx.MBeanServerImpl.sendNotification(MBeanServerImpl.java:2645)\n        at\ncom.sun.management.jmx.MBeanServerImpl.internal_addObject(MBeanServerImpl.java:2368)\n        at\ncom.sun.management.jmx.MBeanServerImpl.registerMBean(MBeanServerImpl.java:874)\n        at org.apache.commons.modeler.Registry.registerComponent(Registry.java:438)\n        at org.apache.commons.modeler.Registry.registerComponent(Registry.java:391)\n        at\norg.apache.catalina.core.StandardWrapper.registerJMX(StandardWrapper.java:1516)\n        at\norg.apache.catalina.core.StandardContext.registerJMX(StandardContext.java:4674)\n        at org.apache.catalina.core.StandardContext.start(StandardContext.java:3964)\n        at\norg.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:831)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:817)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:632)\n       at\norg.apache.catalina.core.StandardHostDeployer.install(StandardHostDeployer.java:305)\n        at org.apache.catalina.core.StandardHost.install(StandardHost.java:825)\n        at\norg.apache.catalina.startup.HostConfig.deployDirectories(HostConfig.java:631)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:471)\n        at org.apache.catalina.startup.HostConfig.start(HostConfig.java:814)\n        at\norg.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:428)\n        at\norg.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:166)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1235)\n       at org.apache.catalina.core.StandardHost.start(StandardHost.java:791)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1227)\n       at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:351)\n        at org.apache.catalina.core.StandardService.start(StandardService.java:516)\n        at org.apache.catalina.core.StandardServer.start(StandardServer.java:2291)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:540)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:297)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:394)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at org.apache.commons.launcher.ChildMain.run(ChildMain.java:269)\n\n[WARN] MapperListener - -Error registering Wrapper\nCatalina:j2eeType=Servlet,name=providerservlet,WebModule=foo/webapps,J2EEApplication=none,J2EEServer=none\n<java.lang.ArrayIndexOutOfBoundsException>java.lang.ArrayIndexOutOfBoundsException\n        at org.apache.tomcat.util.http.mapper.Mapper.addWrapper(Mapper.java:245)\n       at\norg.apache.coyote.tomcat5.MapperListener.registerWrapper(MapperListener.java:375)\n        at\norg.apache.coyote.tomcat5.MapperListener.handleNotification(MapperListener.java:198)\n        at\ncom.sun.management.jmx.MBeanServerNotificationListener.handleNotification(MBeanServerNotificationListener.java:48)\n        at\njavax.management.NotificationBroadcasterSupport.sendNotification(NotificationBroadcasterSupport.java:142)\n        at\njavax.management.MBeanServerDelegate.sendNotification(MBeanServerDelegate.java:176)\n        at\ncom.sun.management.jmx.MBeanServerImpl.sendNotification(MBeanServerImpl.java:2645)\n        at\ncom.sun.management.jmx.MBeanServerImpl.internal_addObject(MBeanServerImpl.java:2368)\n        at\ncom.sun.management.jmx.MBeanServerImpl.registerMBean(MBeanServerImpl.java:874)\n        at org.apache.commons.modeler.Registry.registerComponent(Registry.java:438)\n        at org.apache.commons.modeler.Registry.registerComponent(Registry.java:391)\n        at\norg.apache.catalina.core.StandardWrapper.registerJMX(StandardWrapper.java:1516)\n        at\norg.apache.catalina.core.StandardContext.registerJMX(StandardContext.java:4674)\n        at org.apache.catalina.core.StandardContext.start(StandardContext.java:3964)\n        at\norg.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:831)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:817)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:632)\n       at\norg.apache.catalina.core.StandardHostDeployer.install(StandardHostDeployer.java:305)\n        at org.apache.catalina.core.StandardHost.install(StandardHost.java:825)\n        at\norg.apache.catalina.startup.HostConfig.deployDirectories(HostConfig.java:631)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:471)\n        at org.apache.catalina.startup.HostConfig.start(HostConfig.java:814)\n        at\norg.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:428)\n        at\norg.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:166)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1235)\n       at org.apache.catalina.core.StandardHost.start(StandardHost.java:791)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1227)\n       at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:351)\n        at org.apache.catalina.core.StandardService.start(StandardService.java:516)\n        at org.apache.catalina.core.StandardServer.start(StandardServer.java:2291)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:540)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:297)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:394)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at org.apache.commons.launcher.ChildMain.run(ChildMain.java:269)\n\n[WARN] MapperListener - -Error registering Wrapper\nCatalina:j2eeType=Servlet,name=receiverservlet,WebModule=foo/webapps,J2EEApplication=none,J2EEServer=none\n<java.lang.ArrayIndexOutOfBoundsException>java.lang.ArrayIndexOutOfBoundsException\n        at org.apache.tomcat.util.http.mapper.Mapper.addWrapper(Mapper.java:245)\n       at\norg.apache.coyote.tomcat5.MapperListener.registerWrapper(MapperListener.java:375)\n        at\norg.apache.coyote.tomcat5.MapperListener.handleNotification(MapperListener.java:198)\n        at\ncom.sun.management.jmx.MBeanServerNotificationListener.handleNotification(MBeanServerNotificationListener.java:48)\n        at\njavax.management.NotificationBroadcasterSupport.sendNotification(NotificationBroadcasterSupport.java:142)\n        at\njavax.management.MBeanServerDelegate.sendNotification(MBeanServerDelegate.java:176)\n        at\ncom.sun.management.jmx.MBeanServerImpl.sendNotification(MBeanServerImpl.java:2645)\n        at\ncom.sun.management.jmx.MBeanServerImpl.internal_addObject(MBeanServerImpl.java:2368)\n        at\ncom.sun.management.jmx.MBeanServerImpl.registerMBean(MBeanServerImpl.java:874)\n        at org.apache.commons.modeler.Registry.registerComponent(Registry.java:438)\n        at org.apache.commons.modeler.Registry.registerComponent(Registry.java:391)\n        at\norg.apache.catalina.core.StandardWrapper.registerJMX(StandardWrapper.java:1516)\n        at\norg.apache.catalina.core.StandardContext.registerJMX(StandardContext.java:4674)\n        at org.apache.catalina.core.StandardContext.start(StandardContext.java:3964)\n        at\norg.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:831)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:817)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:632)\n       at\norg.apache.catalina.core.StandardHostDeployer.install(StandardHostDeployer.java:305)\n        at org.apache.catalina.core.StandardHost.install(StandardHost.java:825)\n        at\norg.apache.catalina.startup.HostConfig.deployDirectories(HostConfig.java:631)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:471)\n        at org.apache.catalina.startup.HostConfig.start(HostConfig.java:814)\n        at\norg.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:428)\n        at\norg.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:166)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1235)\n       at org.apache.catalina.core.StandardHost.start(StandardHost.java:791)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1227)\n       at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:351)\n        at org.apache.catalina.core.StandardService.start(StandardService.java:516)\n        at org.apache.catalina.core.StandardServer.start(StandardServer.java:2291)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:540)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:297)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:394)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at org.apache.commons.launcher.ChildMain.run(ChildMain.java:269)\n\n[WARN] MapperListener - -Error registering Wrapper\nCatalina:j2eeType=Servlet,name=digest,WebModule=foo/webapps,J2EEApplication=none,J2EEServer=none\n<java.lang.ArrayIndexOutOfBoundsException>java.lang.ArrayIndexOutOfBoundsException\n        at org.apache.tomcat.util.http.mapper.Mapper.addWrapper(Mapper.java:245)\n       at\norg.apache.coyote.tomcat5.MapperListener.registerWrapper(MapperListener.java:375)\n        at\norg.apache.coyote.tomcat5.MapperListener.handleNotification(MapperListener.java:198)\n        at\ncom.sun.management.jmx.MBeanServerNotificationListener.handleNotification(MBeanServerNotificationListener.java:48)\n        at\njavax.management.NotificationBroadcasterSupport.sendNotification(NotificationBroadcasterSupport.java:142)\n        at\njavax.management.MBeanServerDelegate.sendNotification(MBeanServerDelegate.java:176)\n        at\ncom.sun.management.jmx.MBeanServerImpl.sendNotification(MBeanServerImpl.java:2645)\n        at\ncom.sun.management.jmx.MBeanServerImpl.internal_addObject(MBeanServerImpl.java:2368)\n        at\ncom.sun.management.jmx.MBeanServerImpl.registerMBean(MBeanServerImpl.java:874)\n        at org.apache.commons.modeler.Registry.registerComponent(Registry.java:438)\n        at org.apache.commons.modeler.Registry.registerComponent(Registry.java:391)\n        at\norg.apache.catalina.core.StandardWrapper.registerJMX(StandardWrapper.java:1516)\n        at\norg.apache.catalina.core.StandardContext.registerJMX(StandardContext.java:4674)\n        at org.apache.catalina.core.StandardContext.start(StandardContext.java:3964)\n        at\norg.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:831)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:817)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:632)\n       at\norg.apache.catalina.core.StandardHostDeployer.install(StandardHostDeployer.java:305)\n        at org.apache.catalina.core.StandardHost.install(StandardHost.java:825)\n        at\norg.apache.catalina.startup.HostConfig.deployDirectories(HostConfig.java:631)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:471)\n        at org.apache.catalina.startup.HostConfig.start(HostConfig.java:814)\n        at\norg.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:428)\n        at\norg.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:166)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1235)\n       at org.apache.catalina.core.StandardHost.start(StandardHost.java:791)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1227)\n       at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:351)\n        at org.apache.catalina.core.StandardService.start(StandardService.java:516)\n        at org.apache.catalina.core.StandardServer.start(StandardServer.java:2291)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:540)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:297)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:394)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at org.apache.commons.launcher.ChildMain.run(ChildMain.java:269)\n\n",
            "date": "20030307T01:09:27",
            "id": 1
        },
        {
            "author": null,
            "body": "The problem does not occur when non \"localhost\" service comes but when an engine\nother than \"Tomcat-Standalone\" name comes first due to\nMapperListener.registerHost has hardcoded engine object name with\n\"Tomcat-Standalone\".  I believe it's still under development since it has\n\"FIXME\" comment. :-)  ",
            "date": "20030312T09:06:31",
            "id": 2
        },
        {
            "author": null,
            "body": "The problems with the mapper should have been resolved now that the relevant\nhosts are properly registered with JMX.",
            "date": "20030415T22:16:39",
            "id": 3
        }
    ],
    "component": "Catalina",
    "description": "When I have more than one <Service> element in the server.xml if I don't put\nlocalhost as the first one the server comes up with no context initialized.\nHowever if I put localhost first and then the other virtual host second then it\nseems to work fine. This works fine with tomcat 4.1.x. It is a regression in\ntomcat 5.\n\nFor example\n\n<Service name=\"foo\">\n\n    <Connector className=\"org.apache.coyote.tomcat5.CoyoteConnector\"\n               port=\"8080\" minProcessors=\"5\" maxProcessors=\"100\"\n               enableLookups=\"true\" redirectPort=\"8443\" acceptCount=\"100\"\n               debug=\"0\" connectionTimeout=\"20000\"\n               disableUploadTimeout=\"true\" />\n<Engine name=\"StandAlone\" defaultHost=\"localhost\" debug=\"0\">\n\n\n      <Realm   className=\"org.apache.catalina.realm.UserDatabaseRealm\"\n            resourceName=\"UserDatabase\"\n                   debug=\"0\"/>\n\n      <!-- Define the default virtual host -->\n      <Host name=\"localhost\" debug=\"0\" appBase=\"webapps\"\n       unpackWARs=\"false\" autoDeploy=\"true\">\n\n      </Host>\n\n    </Engine>\n</Service>\n<Service name=\"bar\">\n\n    <Connector className=\"org.apache.coyote.tomcat5.CoyoteConnector\"\n               port=\"8081\" minProcessors=\"5\" maxProcessors=\"100\"\n               enableLookups=\"true\" redirectPort=\"8443\" acceptCount=\"100\"\n               debug=\"0\" connectionTimeout=\"20000\"\n               disableUploadTimeout=\"true\" />\n\n    <Engine name=\"NewEngine\" defaultHost=\"bar\" debug=\"0\">\n\n      <!-- Define the default virtual host -->\n      <Host name=\"jwsdp-services\" debug=\"0\" appBase=\"foo/webapps\"\n       unpackWARs=\"false\" autoDeploy=\"true\">\n\n      </Host>\n\n    </Engine>\n\n  </Service>\n\nThis works but if you reverse the order of the <Service> elements it doesn't.",
    "hasPatch": false,
    "hasScreenshot": false,
    "id": "17749",
    "issuetypeClassified": "BUG",
    "issuetypeTracker": "BUG",
    "priority": "P3 normal",
    "product": "Tomcat 5",
    "project": "TOMCAT",
    "summary": "Order of <Service> tag in server.xml matters for tomcat 5.",
    "systemSpecification": false,
    "version": "5.0.0"
}