{
    "comments": [
        {
            "author": "Roland Weber",
            "body": "Created an attachment (id=17587)\npatch, take 1\n\nthe patch includes:\n- two new methods in HttpEntity\n- two new classes AbstractHttpEntity and HttpEntityWrapper\n- updated entity classes in org.apache.http.entity\n- updated entity classes in org.apache.http.contrib.compress\n- updated JavaDocs, primarily in HttpEntity\n\nthe patch is missing:\n- test cases for the two new classes\n- item 3 from the mail linked in the bug report\n\nWhen reading and writing JavaDocs in HttpEntity, I noticed\nsome things that need clarification. I'll start a discussion\nin the developer mailing list about this.\n\ncheers,\n  Roland\n",
            "date": "2006-02-05T01:10:58.000+0000",
            "id": 0
        },
        {
            "author": "Oleg Kalnichevski",
            "body": "Roland,\nThe patch does not apply cleanly against the SVN trunk for me. There are\nmultiple problems with it, which are too many and too difficult to correct\nmanually. Please make sure you have got the latest SVN snapshot by always\nrunning 'svn up' prior to running 'svn diff'. Another thing, the new classes did\nnot make it into the patch. Please add them to version control by running 'svn\nadd <pull file name>' prior to running 'svn diff'\n\nOleg",
            "date": "2006-02-05T01:38:39.000+0000",
            "id": 1
        },
        {
            "author": "Roland Weber",
            "body": "Created an attachment (id=17589)\npatch, take 2\n\nHi Oleg,\n\nthis one has the new files. But \"svn up\" just tells me:\nAt revision 374885.\n\nI've run \"svn co\" before I started hacking today, to make\nsure I'm working against the current code.\n\ncheers,\n  Roland\n",
            "date": "2006-02-05T01:48:18.000+0000",
            "id": 2
        },
        {
            "author": "Oleg Kalnichevski",
            "body": "That is weird. The patch applies cleanly neither using Eclipse nor patch util. I\nwill have to fix all these conflicts manually. Meanwhile can you try to apply\nthis patch against a completely fresh snapshot of the SVN trunk and see if that\nworks for you? What is your patch version?\n\noleg@dld810:~/src/apache.org/jakarta/httpcomponents/http-core$ patch -p2 <\n~/2k6-02-04-entity-patch-2.txt\npatching file\nsrc/contrib/org/apache/http/contrib/compress/GzipCompressingEntity.java\nHunk #1 FAILED at 36.\n1 out of 3 hunks FAILED -- saving rejects to file\nsrc/contrib/org/apache/http/contrib/compress/GzipCompressingEntity.java.rejpatching\nfile src/contrib/org/apache/http/contrib/compress/GzipDecompressingEntity.java\nHunk #1 FAILED at 36.\n1 out of 1 hunk FAILED -- saving rejects to file\nsrc/contrib/org/apache/http/contrib/compress/GzipDecompressingEntity.java.rej\npatching file src/java/org/apache/http/HttpEntity.java\nHunk #1 succeeded at 34 with fuzz 1.\npatching file src/java/org/apache/http/entity/BufferedHttpEntity.java\nHunk #1 FAILED at 39.\n1 out of 3 hunks FAILED -- saving rejects to file\nsrc/java/org/apache/http/entity/BufferedHttpEntity.java.rej\npatching file src/java/org/apache/http/entity/ByteArrayEntity.java\nHunk #1 FAILED at 36.\n1 out of 3 hunks FAILED -- saving rejects to file\nsrc/java/org/apache/http/entity/ByteArrayEntity.java.rej\npatching file src/java/org/apache/http/entity/AbstractHttpEntity.java\npatching file src/java/org/apache/http/entity/StringEntity.java\nHunk #1 FAILED at 39.\n1 out of 4 hunks FAILED -- saving rejects to file\nsrc/java/org/apache/http/entity/StringEntity.java.rej\npatching file src/java/org/apache/http/entity/InputStreamEntity.java\nHunk #1 FAILED at 35.\n1 out of 3 hunks FAILED -- saving rejects to file\nsrc/java/org/apache/http/entity/InputStreamEntity.java.rej\npatching file src/java/org/apache/http/entity/FileEntity.java\nHunk #1 FAILED at 37.\n1 out of 3 hunks FAILED -- saving rejects to file\nsrc/java/org/apache/http/entity/FileEntity.java.rej\npatching file src/java/org/apache/http/entity/HttpEntityWrapper.java\npatching file src/java/org/apache/http/entity/BasicHttpEntity.java\n\noleg@dld810:~/src/apache.org/jakarta/httpcomponents/http-core$ patch --version\npatch 2.5.9\nCopyright (C) 1988 Larry Wall\nCopyright (C) 2003 Free Software Foundation, Inc.\n\nThis program comes with NO WARRANTY, to the extent permitted by law.\nYou may redistribute copies of this program\nunder the terms of the GNU General Public License.\nFor more information about these matters, see the file named COPYING.\n\nwritten by Larry Wall and Paul Eggert",
            "date": "2006-02-05T02:00:15.000+0000",
            "id": 3
        },
        {
            "author": "Oleg Kalnichevski",
            "body": "My bad. I think the relevant one is diff. What's your version?\n\noleg@dld810:~/src/apache.org/jakarta/httpcomponents/http-core$ diff --version\ndiff (GNU diffutils) 2.8.1\nCopyright (C) 2002 Free Software Foundation, Inc.\n\nThis program comes with NO WARRANTY, to the extent permitted by law.\nYou may redistribute copies of this program\nunder the terms of the GNU General Public License.\nFor more information about these matters, see the file named COPYING.\n\nWritten by Paul Eggert, Mike Haertel, David Hayes,\nRichard Stallman, and Len Tower.\n ",
            "date": "2006-02-05T02:01:54.000+0000",
            "id": 4
        },
        {
            "author": "Roland Weber",
            "body": "Hi Oleg,\n\nI've created the patch using \"svn diff\". Heaven knows why\nthey don't have a \"svn patch\" to apply their diffs.\n\nThe version of subversion is:\nsvn, version 1.2.3 (r15833)\n\nThe version of the \"diff\" in my path is:\ndiff (GNU diffutils) 2.8.7\n\nI'll see what \"patch\" makes out of it:\npatch 2.5.9\n\ncheers,\n  Roland\n\n",
            "date": "2006-02-05T02:08:43.000+0000",
            "id": 5
        },
        {
            "author": "Roland Weber",
            "body": "Hi Oleg,\n\nI get the same errors as you against a clean checkout.\n\ncheers,\n  Roland\n\n\n",
            "date": "2006-02-05T02:18:41.000+0000",
            "id": 6
        },
        {
            "author": "Oleg Kalnichevski",
            "body": "This is going to be quite a nuisance if we are not able to reliably exchange\npatches. I am in the process of fixing the conflicts manually and will apply the\npatch as soon as I am done\n\nOleg",
            "date": "2006-02-05T02:36:28.000+0000",
            "id": 7
        },
        {
            "author": "Oleg Kalnichevski",
            "body": "Patch checked in. Many thanks, Roland\n\nI still would like to see if the new functionality can be made optional through\nthe use of a marker interface. I'll sleep over it and see what I can come up with\n\nOleg",
            "date": "2006-02-05T02:57:43.000+0000",
            "id": 8
        },
        {
            "author": "Oleg Kalnichevski",
            "body": "(In reply to comment #9)\n> I still would like to see if the new functionality can be made optional through\n> the use of a marker interface. I'll sleep over it and see what I can come up with\n\nI looked at it. Even though having this functionality in a marker interface\nwould be cleaner conceptually, it does make wrapping entities tricky (A wrapper\ncannot implement an interface optionally depending on what kind of entity is\nwraps). Case closed.\n\nOleg\n",
            "date": "2006-02-05T06:16:03.000+0000",
            "id": 9
        }
    ],
    "component": "HttpClient (classic)",
    "description": "1. entities can not be explicitly disconnected from the underlying stream\n2. entities do not tell whether they have an underlying stream\n\npatch follows\n\ncheers,\n  Roland",
    "hasPatch": false,
    "hasScreenshot": false,
    "id": "HTTPCLIENT-560",
    "issuetypeClassified": "IMPROVEMENT",
    "issuetypeTracker": "BUG",
    "priority": "Major",
    "product": "HTTPCLIENT",
    "project": "HTTPCLIENT",
    "summary": "entities and connection handling incomplete",
    "systemSpecification": true,
    "version": "4.0 Final"
}