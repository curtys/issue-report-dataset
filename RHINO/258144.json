{
    "comments": [
        {
            "author": "andymadigan@yahoo.com",
            "body": "Created attachment 157983\nGZipped Tar of diffs for patch.\n\nMain.diff is for org.mozilla.javascript.tools.jsc.Main, the other two are for\ntheir respective classes in org.mozilla.javascript.optimizer.",
            "date": "20040906T04:07:43",
            "id": 0
        },
        {
            "author": "igor@mir2.org",
            "body": "(In reply to comment #1)\n> Created an attachment (id=157983)\n> GZipped Tar of diffs for patch.\n> \n> Main.diff is for org.mozilla.javascript.tools.jsc.Main, the other two are for\n> their respective classes in org.mozilla.javascript.optimizer.\n\nBut could you make single diff via \ncvs diff -uNB > mychanges.diff\n\nand then attach mychanges.diff to the bug?\n\n",
            "date": "20040906T18:46:35",
            "id": 1
        },
        {
            "author": "andymadigan@yahoo.com",
            "body": "Created attachment 158078\nDiff of my changes as requested\n\nThanks, I didn't know what command to use. One additional (and possibly\nimportant) note, the patch doesn't make sure that the runtime class specified\nexists.",
            "date": "20040907T02:59:33",
            "id": 2
        },
        {
            "author": "igor@mir2.org",
            "body": "Created attachment 158096\nNo need to convert to slash form and cosmetics\n\nMy take on the above patch:\n\n1. There is no need to convert a class name in the dot form to the slash form.\nRhino class code generation library accepts that for long time (the slash form\nis required only in field and method signatures) but still there are few places\nwhere the slash form is used in class name context. \n\n2. I renamed runtimeClss to mainMethodClass which reflects the name semantics\nbetter. I keep although jsc option name as -runtime.\n\n3. Tabs are expanded to spaces.",
            "date": "20040907T10:04:18",
            "id": 3
        },
        {
            "author": "igor@mir2.org",
            "body": "I committed the patch after renaming -runtime to -main-method-class as well.",
            "date": "20040907T19:12:34",
            "id": 4
        }
    ],
    "component": "Compiler",
    "description": "User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7) Gecko/20040803 Firefox/0.9.3\nBuild Identifier: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7) Gecko/20040803 Firefox/0.9.3\n\nI would like to have a way to specify which class main() calls in classes\ngenerated by jsc. I put a post on the mailing and followed Igor's suggestion.\nI've made the changes in my latest CVS checkout (6 Sep 04) and run diff. Note\nthat I've never run diff before so I probably did wrong. This patch adds a\n-runtime parameter to jsc. So for instance \"jsc -runime foo.bar foobar.js\" would\ngenerate a class that called main(Script sc, String[] args) in the class foo.bar\nwhere sc is an instance of the generated class. This is especially useful if you\nneed a special scope (e.g. ImporterTopLevel) for your script to run. Two public\napi methods in ClassCompiler were added and documented. (getRuntimeClass() and\nsetRuntimeClass()).\n\nReproducible: Always\nSteps to Reproduce:\nThis isn't a bug.",
    "hasPatch": true,
    "hasScreenshot": false,
    "id": "258144",
    "issuetypeClassified": "RFE",
    "issuetypeTracker": "RFE",
    "priority": "-- enhancement",
    "product": "Rhino",
    "project": "RHINO",
    "summary": "Add option to set Runtime Class in classes generated by jsc",
    "systemSpecification": false,
    "version": "other"
}